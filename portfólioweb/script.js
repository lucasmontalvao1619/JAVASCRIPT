document.addEventListener("DOMContentLoaded",()=>{
    const form=document.querySelector("form");const fields=[{input:document.getElementById("name"),message:"Por favor, preencha o seu nome."},{input:document.getElementById("email"),message:"Por favor, insira um email vÃ¡lido.",validate:(value)=> /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)},{input:document.getElementById("subject"),message:"Por favor, preencha o assunto."},{input:document.getElementById("message"),message:"Por favor, escreva sua mensagem."}];function showError(input,message){input.classList.add("border-red-500");let error=input.nextElementSibling;if(!error||!error.classList.contains("error-message")){error=document.createElement("div");error.className="error-message text-sm text-red-500 mt-1";input.parentNode.appendChild(error)}error.textContent=message}function showSuccess(message){const successMessage=document.createElement("div");successMessage.className="success-message text-sm text-green-500 mt-2";successMessage.textContent=message;form.appendChild(successMessage);setTimeout(()=>{successMessage.remove()},5000)}function clearError(input){input.classList.remove("border-red-500");const error=input.nextElementSibling;if(error&&error.classList.contains("error-message")){error.remove()}}form.addEventListener("submit",function(e){e.preventDefault();let isValid=true;fields.forEach(({input,message,validate})=>{const value=input.value.trim();clearError(input);if(value===""||(validate&&!validate(value))){showError(input,message);isValid=false}});if(isValid){showSuccess("Mensagem enviada com sucesso!");form.reset();fields.forEach(({input})=>clearError(input))}});const darkModeToggle=document.getElementById('darkModeToggle');const html=document.documentElement;const userPrefersDark=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;const savedTheme=localStorage.getItem('theme');if(savedTheme==='dark'||(!savedTheme&&userPrefersDark)){html.classList.add('dark')}darkModeToggle.addEventListener('click',()=>{html.classList.toggle('dark');const theme=html.classList.contains('dark')?'dark':'light';localStorage.setItem('theme',theme)});const mobileMenuButton=document.getElementById('mobileMenuButton');const mobileMenu=document.getElementById('mobileMenu');mobileMenuButton.addEventListener('click',()=>{mobileMenu.classList.toggle('hidden')});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');if(targetId==='#')return;const targetElement=document.querySelector(targetId);if(targetElement){mobileMenu.classList.add('hidden');window.scrollTo({top:targetElement.offsetTop-80,behavior:'smooth'})}})});const skillBars=document.querySelectorAll('.skill-progress');const animateSkillBars=()=>{skillBars.forEach(bar=>{const width=bar.style.width;bar.style.width='0';setTimeout(()=>{bar.style.width=width},100)})};const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){animateSkillBars();observer.unobserve(entry.target)}})},{threshold:0.1});const skillsSection=document.getElementById('skills');if(skillsSection){observer.observe(skillsSection)}});


